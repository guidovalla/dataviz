<html>
    <head>
        <meta charset="utf-8">
        <link href="d3-geomap.css" rel="stylesheet">    
    </head>
    <body>

        <div class="d3-geomap" id="map"></div>
    </body>
    <script src="https://unpkg.com/d3@5/dist/d3.min.js"></script>
    <script src="https://unpkg.com/topojson@3/dist/topojson.min.js"></script>
    <script src="d3-geomap.min.js"></script>


<script>
var map = d3.choropleth()
    .geofile('https://raw.githubusercontent.com/guidovalla/dataviz/main/USA.json')
    //.colors(["#f7fcf5","#e8f6e3","#d3eecd","#b7e2b1","#97d494","#73c378","#4daf62","#2f984f","#157f3b","#036429","#00441b"])
    //.colors(["#cacaca","#f5fbfc","#f2fafc","#eff9fb","#ebf7fa","#eaf7f9","#e6f5f7","#e5f5f7","#e4f5f7","#e2f4f6","#e0f3f4","#d3eeec","#d2eeeb","#d1eeeb","#cbebe6","#caebe6","#004e1f","#00451c","#00441b"])
    .colors(["#bdbdbd","#f7fcf5","#e8f6e3","#d3eecd","#b7e2b1","#97d494","#73c378","#4daf62","#2f984f","#157f3b","#036429","#006026", "#005522", "#004e1f",  "#00451c","#00441b"])
    .projection(d3.geoAlbersUsa)
    .domain([0,5])
    .column('density')
    .unitId('fips')
    .scale(1000)
    .legend(true);

d3.csv('https://raw.githubusercontent.com/guidovalla/dataviz/main/data/trees_density.csv').then(data => {
    map.draw(d3.select('#map').datum(data));
});
</script>

</html>

